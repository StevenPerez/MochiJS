!function(n){this.modulejs=n()}(function(){"use strict";function e(r){return function(e){return n.toString.call(e)==="[object "+r+"]"}}function f(n){return n===new Object(n)}function o(r,e){return n.hasOwnProperty.call(r,e)}function c(n,e,t){if(r&&n.forEach===r)n.forEach(e,t);else if(n.length===+n.length)for(var i=0,u=n.length;u>i;i+=1)e.call(t,n[i],i,n);else for(var f in n)o(n,f)&&e.call(t,n[f],f,n)}function a(n,r){for(var e=0,t=n.length;t>e;e+=1)if(n[e]===r)return!0;return!1}function s(n){var r={},e=[];return c(n,function(n){o(r,n)||(e.push(n),r[n]=1)}),e}function d(n,r,e){if(n){var t=new Error("[modulejs-"+r+"] "+e);throw t.code=r,t}}function p(n,r,e){if(d(!t(n),31,'id must be a string "'+n+'"'),!r&&o(v,n))return v[n];var i=l[n];d(!i,32,'id not defined "'+n+'"'),e=(e||[]).slice(0),e.push(n);var u=[];if(c(i.deps,function(n){d(a(e,n),33,"circular dependencies: "+e+" & "+n),r?(u=u.concat(p(n,r,e)),u.push(n)):u.push(p(n,r,e))}),r)return s(u);var f=i.fn.apply(void 0,u);return v[n]=f,f}function h(n,r,e){void 0===e&&(e=r,r=[]),d(!t(n),11,'id must be a string "'+n+'"'),d(l[n],12,'id already defined "'+n+'"'),d(!u(r),13,'dependencies for "'+n+'" must be an array "'+r+'"'),d(!f(e)&&!i(e),14,'arg for "'+n+'" must be object or function "'+e+'"'),l[n]={id:n,deps:r,fn:i(e)?e:function(){return e}}}function y(n){return p(n)}var n=Object.prototype,r=Array.prototype.forEach,t=e("String"),i=e("Function"),u=Array.isArray||e("Array"),l={},v={};return{define:h,require:y}});